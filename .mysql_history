select user,host,password,plugin from mysql.user; 
show tables;
use facturacion
show tables;
describe pais;
show create table pais;
select * from pais;
insert into pais value ('sp','España');
select * from pais where nombre = 'España';
delete from pais where iso2 = 'sp';
alter table pais add unique (nombre);
show create table pais;
insert into pais value ('sp','España');
alter table pais modify nombre varchar(60) null;
show create table pais;
select * from pais;
insert into pais value ('an', NULL);
select * from pais;
update pais set nombre = 'España' where iso2 = 'an';
update pais set nombre = 'Andorra' where iso2 = 'an';
select * from pais;
update pais set nombre = NULL where iso2 = 'an';
update pais set nombre = 'Andorra' where iso2 = 'an';
select * from pais;
update pais set iso2 = NULL where iso2 = 'an';
alter table pais modify nombre varchar(60) not null;
show create table pais;
update pais set iso2 = NULL where iso2 = 'an';
alter table pais modify nombre varchar(5) not null;
select * from pais;
select max(length(nombre)) from pais;
insert into pais value ('aa', 'alban');
select * from pais;
select max(length(nombre)) from pais;
show create table empresa;
select * from empresa;
select * from cliente;
insert into cliente value ('1111111A','Luis González', 'Avda del Cliente 2', '610234567', '29010', 'Málaga', NULL, 'es');
insert into cliente value ('1111111A','Luis González', 'Avda del Cliente 2', '610234567', '29010', 'Málaga', 'luis@gmail.com', 'es');
select * from cliente;
delete from pais where iso2 = 'es';
delete from pais where iso2 = 'an';
insert into pais value ('an', 'Andorra');
select * from pais;
update pais set iso2 = 'ab', nombre = 'Albania' where iso2 = 'aa';
select * from pais;
select * from pais where nombre like 'A%';
select * from pais;
select * from cliente;
update pais set iso2 = 'sp' where iso2 = 'es';
select * from pais;
select * from cliente;
select * from factura;
select * from detalle;
select * from factura;
insert into factura value ('2022-0012', curdate(), 'B000000001', '1111111A', curdate(), 0);
select * from factura;
select * from detalle;
insert into detalle (nFactura, nLinea, articulo, unidades) value ('2022-0012',1, 'SKU000000', 3);
show create table detalle;
insert into detalle (nFactura, nLinea, articulo, unidades, pvp, iva) value ('2022-0012',1, 'SKU000000', 3, (select pvp from articulo where codArt = 'SKU000000'), (select iva from articulo where codArt = 'SKU000000'));
select * from detalle;
insert into detalle (nFactura, nLinea, articulo, unidades, pvp, iva) value ('2022-0012',2, 'SKU000078', 3, (select pvp from articulo where codArt = 'SKU000078'), (select iva from articulo where codArt = 'SKU000078'));
select * from detalle;
delete from factura where nFactura = '2022-0012';
delete from factura where numFactura = '2022-0012';
select * from detalle;
show create table cliente;
alter table cliente modify pais char(2) null;
show create table cliente;
select * from cliente;
update cliente set pais = null where nif = '1111111A';
select * from cliente;
select * from cliente where pais = NULL;
select * from cliente;
select * from cliente where pais = NULL;
select * from cliente where pais is not NULL;
select * from cliente where pais is NULL;
update cliente set pais = 'an' where nif = '1111111A';
select * from cliente;
select * from pais;
delete from pais where nombre = 'Andorra';
show create table cliente;
alter table cliente drop foreign key cliente_ibfk_1;
show create table cliente;
alter table cliente add foreign key fk_cliente (pais) references pais (iso2) on delete set null on update cascade;
show create table cliente;
select * from cliente;
insert into cliente value ('1111112B','Pedro González', 'Avda del Cliente 2', '610234567', '17010', 'la Bella', 'luis@gmail.com', 'an');
select * from cliente;
select * from pais;
delete from pais where iso2 = 'an';
select * from pais;
select * from cliente;
show create table cliente;
alter table cliente modify email varchar(100) unique not null;
select * from cliente;
update cliente set email = 'pedro@gmail.com' where nif = '1111112B';
select * from cliente;
alter table cliente modify email varchar(100) unique not null;
show create table cliente;
alter table cliente drop unique email;
show create table cliente;
alter table cliente drop constraint `email`;
show create table cliente;
alter table cliente add unique (email);
show create table cliente;
select * from cliente;
update cliente set email = 'pedro@gmail.com' where nif = '1111111A';
alter table cliente add fechaNac date;
select * from cliente;
show create table cliente;
describe cliente;
show create table fechaNac;
show create table cliente;
alter table cliente add altura tinyint unsigned after nombre;
show create table cliente;
select * from cliente;
update cliente set altura = 999;
update cliente set altura = 256;
update cliente set altura = 255;
update cliente set altura = 10;
select * from cliente;
alter table cliente add activo tinyint(1) default 1;
select * from cliente;
update cliente set activo = 0;
select * from cliente;
update cliente set activo = 8;
select * from cliente;
update cliente set activo = 18;
select * from cliente;
show create table cliente;
select * from cliente;
alter table cliente change altura a tinyint(5);
show create table altura;
show create table cliente;
select * from cliente;
alter table cliente drop a;
select * from cliente;
update cliente set activo = null;
select * from cliente;
show create table cliente;
alter table cliente modify activo tinyint(1) default 1 check (activo in (0,1));
show create table cliente;
update cliente set activo = 2;
update cliente set activo = -2;
update cliente set activo = 0;
update cliente set activo = 1;
alter table cliente add altura tinyint check (altura between 140 and 240);
select * from cliente;
update cliente set altura = 160;
update cliente set altura = 127;
alter table cliente modify altura tinyint unsigned;
show create table cliente;
alter table cliente modify altura tinyint unsigned check (altura >= 140 and altura <=240);
show create table cliente;
update cliente set altura = 127;
update cliente set altura = 145;
select * from cliente;
update cliente set altura = 245;
select curdate();
select str_to_date('12/09/1987','%d/%m/%Y');
select now();
select time();
select curtime();
select '1987-12-31' > curdate();
select '2087-12-31' > curdate();
select * from cliente;
update cliente set fechaNac = '1987-04-06' where nif = '1111111A';
update cliente set fechaNac = '1985-07-06' where nif = '1111112B';
update cliente set fechaNac = '1990-01-06' where nif = '1234567Z';
select * from cliente;
select fechaNac as fechaChunga, str_to_date(fechaNac, '%d/%m/%Y') as fechaOK from cliente;
show warnings;
select fechaNac as fechaChunga, date_format(fechaNac, '%d/%m/%Y') as fechaOK from cliente;
select fechaNac as fechaChunga, get_format(fechaNac, 'eur') as fechaOK from cliente;
select fechaNac as fechaChunga, get_format(fechaNac, 'EUR') as fechaOK from cliente;
select fechaNac as fechaChunga, date_format(fechaNac, get_format(DATE, 'EUR')) as fechaOK from cliente;
clear
;
show create table cliente;
alter table cliente add check (fechaNac < curdate());
show create table cliente;
select nif, fechaNac from cliente;
update cliente set fechaNac = '2022-01-28' where nif = '1111111A';
alter table cliente drop constraint `CONSTRAINT_1`;
show create table cliente;
alter table cliente add constraint fechaNoValida check (fechaNac < curdate());
alter table cliente add check (fechaNac < curdate());
alter table cliente drop constraint `CONSTRAINT_1`;
show create table cliente;
alter table cliente add constraint fechaNoValida check (fechaNac < '2022-01-27');
show create table cliente;
alter table cliente add hoy date default curdate();
alter table cliente add constraint fechaNoValida check (fechaNac < hoy);
alter table cliente drop constraint `fechaNoValida`;
alter table cliente add constraint fechaNoValida check (fechaNac < hoy);
select * from cliente;
update cliente set fechaNac = '2200-12-12';
update cliente set fechaNac = '2022-01-28';
update cliente set fechaNac = '2022-01-27';
update cliente set fechaNac = '2022-01-26';
select * from cliente;
select nif, nombre, direccion, telefono, fechaNac from cliente;
select timestampdiff(year, '2003-12-20', curdate());
select timestampdiff(year, '2003-01-28', curdate());
select timestampdiff(year, '2004-01-28', curdate());
select timestampdiff(year, '2004-01-27', curdate());
select timestampdiff(day, '2004-01-27', curdate());
select timestampdiff(week, '2004-01-27', curdate());
select timestampdiff(month, '2004-01-27', curdate());
show create table cliente;
select 0 = false;
select 1 = false;
select 1 = true;
select 1 = ('a' = 'a');
select ('a' = 'a');
select ('a' != 'a');
select ('a' <> 'a');
select not ('a' = 'a');
show databases,
,
,;
show databases, , ,;
show databases;
select * from pedido;
select * from pedido order by total desc;
select * from pedido order by total desc limit 2;
select * from pedido;
select *, max(total) from pedido;
select max(total) from pedido;
select * from pedido where total = 5760.00;
select * from pedido where total = select max(total) from pedido;
select * from pedido where total = (select max(total) from pedido);
select max(total) from pedido where total < (select max(total) from pedido);
select * from pedido where total = max(pedido);
select * from pedido where total = max(total);
select * from pedido where total = (select max(total) from pedido);
select * from pedido where total = (select max(total) from pedido) or total = (select max(total) from pedido where total < (select max(total from pedido));
select * from pedido where total = (select max(total) from pedido) or total = (select max(total) from pedido where total < (select max(total from pedido)));
select * from pedido where total = (select max(total) from pedido) or total = (select max(total) from pedido where total < (select max(total) from pedido));
select year(fecha) from pedido;
select id, year(fecha) from pedido;
select year(fecha) from pedido group by year(fecha);
select year(fecha),count(*) as numPedidos from pedido group by year(fecha);
select year(fecha),count(*), max(total) as PedidoMaximo as numPedidos from pedido group by year(fecha);
select year(fecha),count(*) as numPedidos, max(total) as PedidoMaximo from pedido group by year(fecha);
select concat_ws(' ', nombre, apellido1, apellido2) from cliente;
select concat_ws(' ', nombre, apellido1, apellido2) as nomCliente from cliente;
select concat_ws(' ', apellido1, apellido2) as nomCliente from cliente;
select concat(concat_ws(' ', apellido1, apellido2),', ',nombre) as nomCliente from cliente;
select concat_ws(' ', apellido1, apellido2) as nomCliente from cliente;
select concat_ws(' ', nombre, apellido1, apellido2) as nomCliente from cliente;
select id from cliente where concat_ws(' ', nombre, apellido1, apellido2) = 'Adela Salas Díaz';
select concat_ws('@', nombre, apellido1, apellido2) as nomCliente from cliente;
select id from cliente where concat_ws('', nombre, apellido1, apellido2) = 'Adela Salas Díaz';
select id from cliente where concat_ws(' ', nombre, apellido1, apellido2) = 'Adela Salas Díaz';
select * from pedido where id_cliente = 2;
select * from pedido where id_cliente = ( select id from cliente where concat_ws(' ', nombre, apellido1, apellido2) = 'Adela Salas Díaz');
create table A(a1 char(1));
create table B(b1 smallint);
show tables;
insert into A value ('a'),('b'),('c'),('d');
select * from A;
insert into B value (1),(2),(3);
select * from B;
select * from A,B;
select * from B,A;
select * from A,A;
select * from A as A1,A as A2;
select * from A as A1,A as A2 where A1.a1 <> A2.a1;
select * from A as A1,A as A2 where A1.a1 < A2.a1;
select count(*) from pedido;
select count(*) from cliente;
select * from cliente,pedido;
select * from cliente,pedido where cliente.id = pedido.id_cliente;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente;
select * from cliente inner join pedido  using (id) where telefono is not null;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where telefono = NULL;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where telefono is NULL;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where telefono is NULL and categoria > 200;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where telefono is NULL and categoría > 200;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente;
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where concat_ws(' ',nombre,apellido1,apellido2) = 'Adela Salaas Díaz';
select * from cliente inner join pedido on cliente.id = pedido.id_cliente where concat_ws(' ',nombre,apellido1,apellido2) = 'Adela Salas Díaz';
select pedido.id, pedido.total, pedido.fecha, pedido.id_comercial from cliente inner join pedido on cliente.id = pedido.id_cliente where concat_ws(' ',nombre,apellido1,apellido2) = 'Adela Salas Díaz';
select p.id, p.total, p.fecha from cliente c inner join pedido p on c.id = p.id_cliente where concat_ws(' ',nombre,apellido1,apellido2) = 'Adela Salas Díaz';
select year(pedido) as año from pedido group by año;
select year(fecha) as año from pedido group by año;
select year(fecha) as año, max(total) as mayorPedido from pedido group by año;
select * from pedido where year(fecha) = 2019;
select * from pedido where year(fecha) = 2019 and total = 2389.23;
select id_cliente from pedido where year(fecha) = 2019 and total = 2389.23;
select max(total) from pedido where year(fecha) = 2019;
select id_cliente from pedido where year(fecha) = 2019 and total = ( select max(total) from pedido where year(fecha) = 2019    );
select * from cliente where id in (select id_cliente from pedido where year(fecha) = 2019 and total = ( select max(total) from pedido where year(fecha) = 2019));
select * from cliente where id = (select id_cliente from pedido where year(fecha) = 2019 and total = ( select max(total) from pedido where year(fecha) = 2019));
select nombre,apellido1,apellido2 from cliente where id = (select id_cliente from pedido where year(fecha) = 2019 and total = ( select max(total) from pedido where year(fecha) = 2019));
select nombre,apellido1,apellido2 from cliente where id = (select id_cliente from pedido where total = ( select max(total) from pedido where year(fecha) = 2019));
select * from pedido where year(fecha) = 2019;
select * from pedido inner join cliente on cliente.id = pedido.id_cliente where year(fecha) = 2019;
select * from pedido inner join cliente on cliente.id = pedido.id_cliente where year(fecha) = 2019 and pedido.total = (select max(total) from pedido where year(pedido) = 2019);
select * from pedido inner join cliente on cliente.id = pedido.id_cliente where year(fecha) = 2019 and pedido.total = (select max(total) from pedido where year(fecha) = 2019);
select nombre,apellido1,apellido2 from pedido inner join cliente on cliente.id = pedido.id_cliente where year(fecha) = 2019 and pedido.total = (select max(total) from pedido where year(fecha) = 2019);
select timestampdiff(year, '2003-01-25', curdate()) as edad;
select timestampdiff(year, str_to_date('25/01/2003','%d/%m/%Y'), curdate()) as edad;
show tables;
select * from equipo;
update equipo set web_oficial = 'https://www.realmadrid.com' where id = 2;
select * from equipo;
select * from jugador;
select 1.91 * 100;
show create table jugador;
select altura * 100 from jugador;
select altura, altura * 100 from jugador;
update jugador set altura = altura * 100;
select altura, altura * 100 from jugador;
alter table jugador modify altura smallint unsigned null;
select altura, altura * 100 from jugador;
show tables;
select * from equipo;
select * from jugador;
select * from partido;
alter table jugador add altura2 smallint unsigned null;
show create table jugador;
select * from jugador;
update jugador set altura2 = altura * 100;
select * from jugador;
alter table jugador drop altura2;
select * from jugador;
alter table jugador add altura2 smallint unsigned null after altura;
select * from jugador;
update jugador set altura2 = altura * 100;
select * from jugador;
alter table jugador drop altura;
select * from jugador;
alter table jugador change altura2 altura smallint unsigned null;
select * from jugador;
update jugador set apellido = 'Martínez' where apellido = 'Martinez';
select * from jugador;
update jugador set apellido = 'Víctor' where apellido = 'Victor';
update jugador set apellido = 'Suárez' where apellido = 'Suarez';
update jugador set nombre = 'Víctor' where nombre = 'Victor';
select * from jugador;
select * from equipo;
insert into equipo value (7, 'Unicaja Málaga', 'Málaga', 'https://www.unicajabaloncesto.com',20,null);
select * from equipo;
select * from partido;
update partido set resultado = '99-112' where elocal = 1 and evisitante = 2;
select * from partido;
select timestampdiff(year, '1988-12-04', curdate()) as edad;
select concat('a','b');
select concat('a',NULL);
select * from jugador;
select * from jugador where equipo = 1 or 2 or 3;
select * from jugador where equipo = 1 and equipo = 2 and equipo = 3;
select * from jugador where equipo = 1 or equipo = 2 or equipo = 3;
select * from jugador where equipo =  or 2 or 3;
select 1 or 2 or 3;
select * from jugador where true;
select 0 or 4 or 3;
select * from jugador where equipo in ('1','2','3');
select * from jugador where equipo = ('1','2','3');
select * from jugador where equipo = select ('1','2','3');
select * from jugador where equipo = select '1','2','3';
select * from jugador where equipo between 1 and 3;
select * from jugador where equipo >= 1 or equipo <= 3;
select * from jugador where equipo >= 1 and equipo <= 3;
select * from partido where month(fecha) = 10;
select * from partido;
select * from partido where month(fecha) = 11;
select * from jugador where apellido like 'S%';
select * from jugador where apellido like 's%';
show create table jugador;
show create database liga;
select * from jugador where apellido like 's%';
select * from jugador where apellido like '%a';
select * from jugador where apellido like '%a%';
select * from jugador where apellido like '_a%';
select * from jugador where apellido like '_a';
select * from jugador where apellido like 'Sada';
select * from jugador where apellido = 'Sada';
select * from jugador;
select * from jugador where apellido = '%í%';
select * from jugador where apellido = '%i%';
select * from jugador where apellido like '%í%';
select * from jugador where apellido like '%i%';
select 'hola' rlike '';
select 'hola' rlike 'a';
select 'hola' rlike 'ab';
select 'holab' rlike 'ab';
select 'holab' rlike 'a';
select 'holab' rlike '^a$';
select 'a' rlike '^a$';
select 'aa' rlike '^a$';
select 'asar' rlike '^ar$';
select 'ar' rlike '^ar$';
select 'ar' rlike 'ar';
select 'cadena' rlike 'cadena';
select 'cadena' = 'cadena';
select 'cadena' rlike '....';
select 'cade' rlike '....';
select 'cad' rlike '....';
select '123' rlike '[0-9]+';
select '123a' rlike '[0-9]+';
select '123a' rlike '^[0-9]+$';
select '123' rlike '^[0-9]+$';
select '' rlike '^[0-9]+$';
select '' rlike '^[0-9]*$';
select 'a' rlike '^[0-9]*$';
select '' rlike '^[0-9]*$';
select '' rlike '^[0123456789]*$';
select 'a' rlike '^[0123456789]*$';
select '' rlike '^[0-9]*$';
select '12345678A' rlike '^[0-9](9,9)$';
select '12345678A' rlike '^[0-9](8,8)[a-zA-Z]$';
select '6' rlike '^[0123456789]*$';
select '665654645646' rlike '^[0123456789]*$';
select '665654a645646' rlike '^[0123456789]*$';
select 'aA' rlike '^[a-zA-Z]$';
select 'A' rlike '^[a-zA-Z]$';
select 'a' rlike '^[a-zA-Z]$';
select 'aA' rlike '^[a-zA-Z]$';
select 'aA' rlike '^[a-zA-Z]+$';
select 'aAhfkjfhakjfhaksjhfkasjhkjasdfhkasdhkshadkjhfajkshfklasjhfajksfhkjashfjkashfkjashfjkhasjkfasjkfhasdjkhkasdfhkjasdfjkasdfjkasdhasdfhk' rlike '^[a-zA-Z]+$';
select 'aA' rlike '^[a-zA-Z](3,3)$';
select 'aAc' rlike '^[a-zA-Z](3,3)$';
select 'aaa' rlike '^[a-zA-Z](3,3)$';
select 'aaa' rlike '^[a-zA-Z][3,3]$';
select 'a@b.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}';
select 'a@b.eso' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}';
select 'a@b.eso' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'a@b.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'ab.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'ab@@.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'ab@.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'a@b.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'ab.es' rlike '^[a-z0-9]+@?[a-z0-9]+\\.?[a-z]{2}$';
select 'ab.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@b.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@@b.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'ab.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@@b.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@b.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@bes' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.?[a-z]{2}$';
select 'a@bes' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'a@b.es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'a@b..es' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'a@b.11' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'a@b.1a' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'a@b.an' rlike '^[a-z0-9]+@{1}[a-z0-9]+\\.{1}[a-z]{2}$';
select 'Pedro' rlike '(ed)';
select 'Pedro' rlike 'ed';
select 'eeeeee' rlike '[ed]';
select 'dddddd' rlike '[ed]';
select 'dddddd' rlike '(ed)';
select 'eded' rlike '(ed)+';
select 'eded' rlike '(ed)?';
select 'eded' rlike '^(ed)?$';
select 'eded' rlike '^(ed)+$';
select '7eded' rlike '^(ed)?';
select '7eded' rlike '^(ed)?$';
select 'eded' rlike '^(ed)?$';
select '' rlike '^(ed)?$';
select 'fsklfjslkj@slkdjfsldkfj' rlike '^.+@{1}[^@]+$';
select 'fsklfjslkjslkdjfsldkfj' rlike '^.+@{1}[^@]+$';
select 'fsklfjslkjslkdjfsldkfj@' rlike '^.+@{1}[^@]+$';
select 'fsklfjslkjslkdjfsldkfj@a' rlike '^.+@{1}[^@]+$';
select '@fsklfjslkjslkdjfsldkfj@a' rlike '^.+@{1}[^@]+$';
select '@fsklfjslkjslkdjfsldkfj@a' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkjslkdjfsldkfj@a' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkjslkdjfsldkfja' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkj@slkdjfsldkfja' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkj@@slkdjfsldkfja' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkj@slkdjfsldk@fja' rlike '^[^@]+@{1}[^@]+$';
select 'fsklfjslkj@slkdjfsldk@fja' rlike '^.+@{1}[^@]+$';
select '@fsklfjslkjslkdjfsldkfja' rlike '^@{1}[^@]+$';
select 'a@fsklfjslkjslkdjfsldkfja' rlike '^@{1}[^@]+$';
select 'a@fsklfjslkjslkdjfsldkfja' rlike '^[^@]*@{1}[^@]+$';
select '@fsklfjslkjslkdjfsldkfja' rlike '^[^@]*@{1}[^@]+$';
select '@fsklfjslkjslkdjfsl@dkfja' rlike '^[^@]*@{1}[^@]+$';
select '@@dkfja' rlike '^[^@]*@{1}[^@]+$';
select '@' rlike '^[^@]*@{1}[^@]+$';
select '@' rlike '^[^@]*@{1}[^@]*$';
select replace('a b c', ' ','');
use liga
select * from equipo;
select * from equipo where web_oficial rlike '^(https)';
select * from equipo where web_oficial rlike '^https';
select * from equipo where web_oficial rlike '^https$';
select * from equipo where web_oficial rlike '^https';
select * from equipo where web_oficial rlike '^(https){1,}';
select * from jugador;
select * from jugador2;
update jugador2 set nombre = 'wfjfzzhg' where id = 13;
select * from jugador2;
select * from jugador2 where nombre rlike '[^aeiou]';
select * from jugador2 where nombre rlike '^[^aeiou]+$';
select * from jugador2 where nombre rlike '^[^aeiou]*$';
update jugador2 set nombre = '' where id=13;
select * from jugador2;
select * from jugador2 where nombre is null;
select * from jugador2 where nombre = '';
select length(nombre) where id = 13;
select length(nombre) from jugador2 where id = 13;
select * from jugador2 where nombre rlike '^[^aeiou]*$';
select * from jugador2 where nombre rlike '^[^aeiou]+$';
select * from jugador2 where nombre rlike '^[^aeiou]*$';
update jugador2 set nombre =
select length(nombre) from jugador2 where id = 13;
select * from jugador2 where nombre rlike '^[(a|e|i|o|u)]*$';
select * from jugador2 where nombre rlike '^[^(a|e|i|o|u)]*$';
select * from jugador2 where nombre rlike '^[^a|e|i|o|u]*$';
select * from jugador2 where nombre rlike '^[^aeiou]*$';
select * from jugador;
select * from jugador where puesto = 'pivot' and salario > 100000;
select * from jugador where puesto = 'pivot' and equipo = 1 or equipo = 2;
select * from jugador where puesto = 'pivot' and (equipo = 1 or equipo = 2);
select * from jugador where puesto = 'pivot' and equipo in (1,2);
select * from jugador where equipo = 3 order by apellido;
select * from jugador where altura >= 200 and salario < 40000;
select * from jugador where altura >= 200 and salario < 140000;
select * from partido;
select * from partido where month(fecha) = 2;
select * from equipo;
select nombre, apellido from jugador where id in (select capitan from equipo);
select nombre, apellido, equipo from jugador where id in (select capitan from equipo);
select * from jugador where equipo in (1,2) and salario > 80000;
select * from jugador where (equipo = 1 and equipo = 2) and salario > 80000;
select * from jugador where (equipo = 1 or equipo = 2) and salario > 80000;
select * from equipo;
select * from equipo where web_oficial rlike 'www';
select * from equipo where web_oficial not rlike 'www';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike = 'basket';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike 'basket';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike '(basket\\.com)$';
update jugador set web_oficial = 'http://valenciabasket.coma' where id = 3;
update equipo set web_oficial = 'http://valenciabasket.coma' where id = 3;
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike '(basket\\.com)$';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike '(basket\\.coma)$';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike 'basket\\.com$';
select * from equipo where web_oficial not rlike 'www' and web_oficial rlike 'basket\\.coma$';
update equipo set web_oficial = 'http://valenciabasket.com' where id = 3;
select 'http://www.marca.com/login' rlike '^http://';
select 'http://www.marca.com/login' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9]+$';
select 'http://www.marca.com/login/' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9]+$';
select 'http://www.marca.com' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9]+$';
select 'http://www.marca.com/' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9]+$';
select 'http://www.marca.com/' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9#]+$';
select 'http://www.marca.com/login#' rlike '^http://[a-z0-9]+\\.[a-z0-9]+\\.[a-z0-9]+/[a-z0-9#]+$';
select * from jugador;
select * from jugador group by equipo;
select count(*) from jugador group by equipo;
select equipo, count(*) as numJugadores from jugador group by equipo;
select count(*) from equipo;
select count(*) as numEquipo from equipo;
select count(id) as numEquipo from equipo;
select * from equipo;
select * from jugador;
select distinct equipo from jugador;
select count(distinct equipo) from jugador;
select equipo, count(*) as numJugadores from jugador group by equipo;
select sum(altura) as alturaTotal from jugador;
select equipo, sum(altura) from jugador group by equipo;
select equipo, sum(altura) from jugador group by equipo order by sum(altura);
select equipo, sum(altura) from jugador group by equipo order by sum(altura) desc;
select equipo, sum(altura) as AlturaTotal from jugador group by equipo order by sum(altura) desc;
select * from jugadores;
select * from jugador;
select * from jugador where altura >=2000;
select * from jugador where altura >=200;
select count(*) as numJugMasde2m from jugador where altura >=200;
select avg(salario) as mediaSalario from jugador;
select round(197.2345);
select round(197.7345);
select round(197.7345,2);
select round(197.7355,2);
select round(avg(salario)) as mediaSalario from jugador;
select max(salario) as MasArto, min(salario) as MasBajo, (MasArto-MasBajo) as Diferencia from jugador;
select max(salario) as MasArto, min(salario) as MasBajo, (max(salario)-min(salario)) as Diferencia from jugador;
select * from equipo;
select count(distinct ciudad)) from equipo;
select count(distinct ciudad) from equipo;
create table t1(a int, b int);
insert into t1 value (1,1),(1,1),(1,1);
select * from t1;
select count(*) from t1;
select count(distinct a) from t1;
select * from jugador;
select id, nombre, apellido, salario as salarioBruto, salario * 0.82 as salarioNeto from jugador;
select id, nombre, apellido, salario as salarioBruto, round(salario * 0.82) as salarioNeto from jugador;
select id, nombre, apellido, salario as salarioBruto, round(salario * 0.82) as salarioNeto, round(salario * 0.82 / 12) as sueldoMensual from jugador;
select round(124839438, -2);
select round(124839438, -3);
select * from jugador;
select equipo, puesto, count(*) as nJugadores from jugador group by equipo, puesto;
select equipo, puesto, count(*) as nJugadores from jugador group by puesto, equipo;
select puesto, equipo, count(*) as nJugadores from jugador group by puesto, equipo;
select equipo, max(salario), min(salario) from jugador group by equipo;
select equipo, max(salario), min(salario) from jugador group by equipo having max(salario) > 100000;
select * from partido;
select count(*) from partido where month(fecha) = 11;
select * from jugador;
select equipo, sum(altura) group by equipo;
select equipo, sum(altura) from jugador group by equipo;
select equipo, sum(altura) from jugador group by equipo order by sum(altura);
select equipo, sum(altura) from jugador group by equipo order by sum(altura) desc;
select * from jugador;
select equipo, sum(salario) from jugador group by equipo where count(*) > 2;
select equipo, sum(salario) from jugador group by equipo having count(*) > 2;
select equipo, count(*), sum(salario) from jugador group by equipo having count(*) > 2;
select equipo, count(*), sum(salario) from jugador group by equipo;
select equipo, count(*), sum(salario) from jugador group by equipo having count(*) > 2;
select * from jugador;
update jugador set altura = 209 where id in (3,13);
select * from jugador;
select nombre, apellido, altura from jugador where altura = 209;
select max(altura) from jugador;
select nombre, apellido, altura from jugador where altura = (select max(altura) from jugador   ) ;
select altura, nombre, apellido from jugador group by altura;
select altura, nombre, apellido from jugador group by altura, id;
select altura, nombre, apellido from jugador order by altura;
select altura, nombre, apellido from jugador group by altura;
select max(altura) from jugador;
select nombre, apellido from jugador where altura = 209;
select nombre, apellido from jugador where altura = (select max(altura) from jugador    );
select * from jugador limit 3;
select nombre, apellido from jugador where altura = (select max(altura) from jugador    ) limit 3;
select nombre, apellido from jugador where altura = (select max(altura) from jugador    ) limit 30;
select nombre, apellido from jugador where altura = (select max(altura) from jugador    ) limit 1;
select * from jugador;
select salario from jugador where concat_ws(' ', nombre, apellido) = 'Victor Claver';
select nombre, apellido, salario from jugador where salario > 90000;
select nombre, apellido, salario from jugador where salario > (select salario from jugador where concat_ws(' ', nombre, apellido) = 'Victor Claver' );
select avg(salario) from jugador;
select nombre, apellido from jugador where salario > 85071.4286;
select nombre, apellido from jugador where salario > (select avg(salario) from jugador  );
select equipo, avg(salario) from jugador group by equipo;
select * from jugador limit 5;
select nombre, apellido, salario from jugador where salario < (el sueldo medio de SU equipo);
select nombre, apellido, salario from jugador where salario < (select equipo, avg(salario) from jugador group by equipo );
select nombre, apellido, salario from jugador where salario < (select avg(salario) from jugador group by equipo );
select nombre, apellido, salario from jugador where salario < ALL (select avg(salario) from jugador group by equipo );
select avg(salario) from jugador where equipo = 1;
select avg(salario) from jugador where equipo = 2;
select avg(salario) from jugador where equipo = 3;
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo);
select * from jugador limit 4;
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = 1);
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = 2);
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo);
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo) as consultaJodidaDeldia;
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo as consultaJodidaDeldia;
select * from (select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo) as consultaJodidaDeldia;
select * from (select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo)) as consultaJodidaDeldia;
select * from jugador;
select avg(salario) from jugador;
select * from jugador where salario < (select avg(salario) from jugador);
show tables;
select * from marcas;
select * from marcas m1,marcas m2;
select * from marcas m1,marcas m2 where m1.nombre != m2.nombre and m1.ciudad = m2.ciudad;
select m1.nombre, m2.nombre, m1.ciudad from marcas m1,marcas m2 where m1.nombre != m2.nombre and m1.ciudad = m2.ciudad;
select m1.nombre, m2.nombre, m1.ciudad from marcas m1,marcas m2 where m1.nombre < m2.nombre and m1.ciudad = m2.ciudad;
select m1.nombre, m2.nombre, m1.ciudad from marcas m1,marcas m2 where m1.nombre > m2.nombre and m1.ciudad = m2.ciudad;
use liga;
select * from jugador;
select * from equipo;
select * from jugador;
select equipo, count(*) from jugador group by equipo;
select equipo, count(*) from jugador group by equipo having count(*) > 2;
select equipo, count(*), nombre, apellido from jugador group by equipo having count(*) > 2;
select * from jugador;
select equipo, count(*) from jugador group by equipo, puesto;
select equipo, puesto, count(*) from jugador group by equipo, puesto;
select equipo, puesto, count(*) from jugador group by puesto, equipo;
select * from jugador;
select avg(salario) from jugador;
select nombre, apellido, salario from jugador where salario < (select avg(salario) from jugador );
select equipo, avg(salario) from jugador group by equipo;
select * from jugador;
select nombre, apellido, salario from jugador j1 where salario < (select avg(salario) from jugador j2 where j2.equipo = j1.equipo);
use concesionario;
show tables;
select * from ventas;
create table ventas2 select * from ventas;
insert into ventas value ('0003','0001','010','AZUL');
select * from ventas2;
select * from ventas;
select dni from ventas where color = 'BLANCO' or color = 'ROJO';
select dni from ventas where color = 'BLANCO' or color = 'ROJO' having count(dni) > 1;
select * from ventas;
select * from ventas v1 inner join ventas v2 on v1.dni = v2.dni;
select * from ventas v1 inner join ventas v2 on v1.dni = v2.dni where v1.color = 'BLANCO' and v2.color = 'ROJO';
select * from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO') or (v1.color = 'ROJO' and v2.color = 'BLANCO');
select * from ventas;
update ventas set color = 'ROJO' where codcoche = '001';
update ventas set color = 'BLANCO' where codcoche = '006';
select * from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO') or (v1.color = 'ROJO' and v2.color = 'BLANCO');
select * from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO');
select nombre, apellido from cliente where id in (select dni from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO'));
select nombre, apellido from clientes where id in (select dni from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO'));
select nombre, apellido from clientes where dni in (select dni from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO'));
select nombre, apellido from clientes where dni in (select v1.dni from ventas v1 inner join ventas v2 on v1.dni = v2.dni where (v1.color = 'BLANCO' and v2.color = 'ROJO'));
select * from ventas;
select dni from ventas v1 where not exists (select * from ventas v2 where v2.dni = v1.dni and v2.color = 'ROJO' and v2.color = 'BLANCO');
select dni from ventas v1 where not exists (select * from ventas v2 where v2.dni = v1.dni and  color = 'BLANCO' and not exists (select * from ventas v3 where v3.dni = v2.dni and v3.color = 'ROJO')); 
select dni from ventas v1 where not exists (select * from ventas v2 where v2.dni = v1.dni and  color != 'BLANCO' and not exists (select * from ventas v3 where v3.dni = v2.dni and v3.color != 'ROJO')); 
select dni from ventas where color in ('ROJO', 'BLANCO');
select dni, color from ventas where color in ('ROJO', 'BLANCO');
select dni from ventas v1 where exists (select * from ventas v2 where v2.dni = v1.dni and color = 'ROJO') and exists (select * from ventas v3 where v3.dni = v1.dni and v3.color = 'BLANCO');
select distinct(dni) from ventas v1 where exists (select * from ventas v2 where v2.dni = v1.dni and color = 'ROJO') and exists (select * from ventas v3 where v3.dni = v1.dni and v3.color = 'BLANCO');
select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas v2 where v2.dni = v1.dni and color = 'ROJO');
select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas v2 where dni = v1.dni and color = 'ROJO');
select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas where dni = v1.dni and color = 'ROJO');
select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas where ventas.dni = v1.dni and color = 'ROJO');
select * from ventas;
insert into ventas value ('0001','0004','005','BLANCO');
select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas where ventas.dni = v1.dni and color = 'ROJO');
select nombre, apellido from cliente where dni in (select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas where ventas.dni = v1.dni and color = 'ROJO'));
select nombre, apellido from clientes where dni in (select distinct(dni) from ventas v1 where color = 'BLANCO' and  exists (select * from ventas where ventas.dni = v1.dni and color = 'ROJO'));
select * from ventas;
select * from concesionario;
select nombre from concesionario where 
select cifc, count(*) as numUnidadesVendidas from ventas group by cifc;
select nombre from concesionario co left join ventas v on co.cifc = v.cifc; 
select nombre, count(*) as nuv from concesionario co left join ventas v on co.cifc = v.cifc group by nombre;
select nombre, count(*) as nuv from concesionario co left join ventas v on co.cifc = v.cifc group by cifc;
select nombre, count(*) as nuv from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select nombre, count(v.cifc) from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select * from concesionario co left join ventas v on co.cifc = v.cifc;
select co.cifc, count(v.cifc) from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select co.cifc, count(*) from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select co.cifc, count(v.cifc) from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select co.cifc, count(v.cifc) as nvv from concesionario co left join ventas v on co.cifc = v.cifc group by co.cifc;
select nombre, (select count(cifc) from ventas where ventas.cifc = concesionario.cifc) as nuv from concesionario;
select * from clientes;
select * from clientes where ciudad in ('BARCELONA','MADRID');
select * from clientes where ciudad in ('BARCELONA','MADRID') as tderivada;
select * from (select * from clientes where ciudad in ('BARCELONA','MADRID') as tderivada);
select * from (select * from clientes where ciudad in ('BARCELONA','MADRID')) as tderivada);
select * from (select * from clientes where ciudad in ('BARCELONA','MADRID')) as tderivada;
select * from (select * from clientes where ciudad in ('BARCELONA','MADRID')) as tderivada join ventas v1 on tderivada.dni = v1.dni;
select * from ventas;
select * from ventas v1 where exists (select * from concesionario co where v1.cifc = co.cifc and exists (select * from clientes c where v1.dni = c.dni and co.ciudad = c.ciudad)); 
select * from concesionario;
select * from cliente;
select * from clientes;
select codcoche from ventas v1 where (select cifc, dni) in (select cifc, cli.dni from concesionario con, clientes cli where cli.ciudad = con.ciudad);
select * from concesionario, clientes;
select * from concesionario, clientes where concesionario.ciudad = clientes.ciudad;
use liga
select max(salario) from jugador where equipo = 2;
select * from jugador where salarario > (select max(salario) from jugador where equipo = 2 );
select * from jugador where salario > (select max(salario) from jugador where equipo = 2 );
select * from jugador where salario > all (select salario from jugador where equipo = 2 );
select * from jugador where salario > any (select salario from jugador where equipo = 2 );
select * from jugador where salario >  (select min(salario) from jugador where equipo = 2 );
select * from jugador;
select avg(altura) from jugador;
select * from jugador where altura > (select avg(altura) from jugador);
select * from jugador;
select equipo, avg(altura) from jugador group by equipo;
select * from jugador j1 where altura > (select avg(altura) from jugador where equipo = j1.equipo);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = j1.equipo);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = 1);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = 2);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = 3);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = 4);
select * from jugador j1 where altura > (select avg(altura) from jugador where equipo = j1.equipo);
select nombre,apellido,altura, (select avg(altura) from jugador where equipo = j1.equipo) from jugador j1 where altura > (select avg(altura) from jugador where equipo = j1.equipo);
select nombre,apellido,altura, (select avg(altura) from jugador where equipo = j1.equipo) as alturaMedia from jugador j1 where altura > (select avg(altura) from jugador j2 where j2.equipo = j1.equipo);
select * from jugador j1 where altura > (select avg(altura) from jugador j2 where j1.equipo = 4);
select * from partido;
select * from equipo;
select * from equipo e where exists (select * from partido p where elocal = e.id) and exists (select * from partido p where evisitante = e.id);
select * from partido;
alter table partido add resl smallint as (substring_index(resultado, '-',1) virtual after resultado;
alter table partido add resl smallint as (substring_index(resultado, '-',1)) virtual after resultado;
select * from partido;
alter table partido add resv smallint as (substring_index(resultado, '-',-1)) virtual after resl;
select * from partido;
update partido set resultado = '100-112' where arbitro = 4;
select * from partido;
select * from equipo;
select * equipo e where not exists (select * from partido p where p.eloca = e.id
;
select * equipo e where not exists (select * from partido p where p.evisitante = e.id and not exists (select from partido p2 where p2.resv < p2.resl));
select * equipo e where not exists (select * from partido p where p.evisitante = e.id and not exists (select * from partido p2 where p2.resv < p2.resl));
select * from equipo e where not exists (select * from partido p where p.evisitante = e.id and not exists (select * from partido p2 where p2.resv < p2.resl));
select * from equipo;
select * from partido;
select evisitante from partido p1 where not exists (select * from partido p2 where p2.evisitante = p1.evisitante and p2.resv < p2.resl));
select evisitante from partido p1 where not exists (select * from partido p2 where p2.evisitante = p1.evisitante and p2.resv < p2.resl);
select * from partido;
update partido set evisitante = 1 where elocal = 6 and evisitante = 5;
select * from partido;
select evisitante from partido p1 where not exists (select * from partido p2 where p2.evisitante = p1.evisitante and p2.resv < p2.resl);
select nombre from equipo where id in (select evisitante from partido p1 where not exists (select * from partido p2 where p2.evisitante = p1.evisitante and p2.resv < p2.resl));
select * from jugador;
select * from partido;
select * from jugador;
select equipo, sum(salario) as masa from jugador group by equipo;
select equipo, sum(salario) as masaSalarial from jugador group by equipo;
select max(sum(salario)) as masaSalarial from jugador group by equipo;
(select sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
select * from (select sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
select * from (select equipo, sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
select equipo, max(masaSalarial) from (select equipo, sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
select max(masaSalarial) from (select equipo, sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
select * from equipo where 270000 in (select sum(salario) from jugador group by equipo);
select * from equipo where 270000 = (select sum(salario) from jugador group by equipo);
select max(masaSalarial) from (select equipo, sum(salario) as masaSalarial from jugador group by equipo) as tderivada;
show tables;
select * from t1;
select * from jugador;
select nombre, apellido, salario from jugador where salario = max(salario);
select nombre, apellido, salario from jugador where salario = select max(salario) from jugador;
select nombre, apellido, salario from jugador where salario = (select max(salario) from jugador);
select nombre, apellido, salario from jugador where salario = (select min(salario) from jugador);
select nombre, apellido, salario from jugador where salario = (select max(salario) from jugador) or salario = (select min(salario) from jugador);
select nombre, apellido, salario, '*' as tipo from jugador where salario = (select max(salario) from jugador) or salario = (select min(salario) from jugador);
select if(salario = 13000, '*','') from jugador;
select if(salario = 130000, '*','') from jugador;
select nombre,apellido, salairo, if(salario = 130000, '*','') from jugador;
select nombre,apellido, salario, if(salario = 130000, '*','') from jugador;
select nombre,apellido, salario, if(salario = 130000, '*','') as mejorPagados from jugador;
select nombre,apellido, salario, if(salario = (select max(salario) from jugador), '*','') as mejorPagados from jugador;
select nombre, apellido, salario from jugador order by salario desc limit 2;
select nombre,apellido, salario from jugador where salario = (select max(salario) from jugador);
select nombre,apellido, salario from jugador where salario = (select max(salario) from jugador) or salario = (select max(salario) from jugador where salario != (select max(salario) from jugador));
select nombre,apellido, salario from jugador where salario = (select max(salario) from jugador) or salario = (select max(salario) from jugador where salario < (select max(salario) from jugador));
select max(salario) from jugador where salario < (select max(salario) from jugador);
select * from equipo;
select id, nombre, (select nombre, apellido from jugador where id = capitan) from equipo;
select id, nombre, (select concat_ws(' ', nombre, apellido) as capitan from jugador where id = capitan) from equipo;
select id, nombre, (select concat_ws(' ', nombre, apellido) from jugador where id = capitan) as capitan from equipo;
select ifnull(NULL,'a','b');
select ifnull('a','b');
select ifnull(null,'b');
select ifnull('a','<por determinar>');
select ifnull(NULL,'<por determinar>');
select id, nombre, (select concat_ws(' ', nombre, apellido) from jugador where id = capitan) as capitan from equipo;
select id, nombre, (select IFNULL(concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select id, nombre, (select IFNULL(select concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select id, nombre, (IFNULL(select concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select id, nombre, IFNULL(select concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select id, nombre, IFNULL((select concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select id, nombre, IFNULL(select concat_ws(' ', nombre, apellido) from jugador where id = capitan,'<por determinar>') as capitan from equipo;
select id, nombre, IFNULL((select concat_ws(' ', nombre, apellido) from jugador where id = capitan,'<por determinar>')) as capitan from equipo;
select id, nombre, IFNULL((select concat_ws(' ', nombre, apellido) from jugador where id = capitan),'<por determinar>') as capitan from equipo;
select * from jugador;
select date_format('2010-12-06','%d/%m/%Y');
select concat_ws(', ',apellido,nombre) as nomJugador, altura, puesto, date_format(fecha, '%d/%m/%Y') fechaAlta, salario, equipo from jugador;
select concat_ws(', ',apellido,nombre) as nomJugador, altura, puesto, date_format(fecha_alta, '%d/%m/%Y') fechaAlta, salario, equipo from jugador;
show tables;
select * from t1;
create table tA(a char(1));
insert into tA value ('a'),('b'),('c');
select * from tA;
create table tB(b tinyint); 
insert into tB value (1),(2),(3),(4);
select * from tB;
select * from tA,tB;
select timestampdiff(year, '2020-02-17', curdate()); 
select timestampdiff(year, '2020-02-18', curdate()); 
select timestampdiff(year, '2019-03-18', curdate()); 
use liga
show tables;
drop table t1;
select * from tA;
select * from tB;
select * from tA cross join TB;
select * from tA cross join tB;
select * from tA,tB;
select * from tA,tA;
select * from tA as una,tA as laotra;
select * from tA join tB;
select * from tA inner join tB on tA.a = tB.b;
show warnings;
select * from tA;
select * from tB;
alter table tB add c char(1);
select * from tB;
update tB set c = 'a' where b = 2;
update tB set c = 'c' where b = 4;
select * from tB;
select * from tA join tB on tA.a = tB.c;
select * from tB join tA on tA.a = tB.c;
select * from tA left join tB on tA.a = tB.c;
select * from tA right join tB on tA.a = tB.c;
select * from tB left join tA on tA.a = tB.c;
select * from tB left join tA on tA.a = tB.c order by tA.b;
select * from tB left join tA on tA.a = tB.c order by tB.b;
select * from tA union select * from tB;
select * from tA;
select * from tB;
select * from tA union select b from tB;
select * from tA;
insert into tA value ('4');
select * from tA;
select * from tA union select b from tB;
select * from tA union all select b from tB;
select * from tA;
insert into tA value ('a');
select * from tA;
select * from tA union select b from tB;
select * from tA union all select b from tB;
select * from tA union select b from tB;
select * from tA;
select * from tB;
select * from tA where a not in (select c from tB);
select * from tA where a not in (select b from tB);
select * from tA where a not in (select c from tB where c is not null);
select * from jugador;
select * from equipo;
select nonbre from equipo;
select nomçbre from equipo;
select nombre from equipo;
select * from equipo inner join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre, jugador.nombre, jugador.apellido from equipo inner join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, jugador.nombre as jNombre, jugador.apellido as jApellido from equipo inner join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, jugador.nombre as nomCapitan, jugador.apellido as apeCapitan from equipo inner join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, jugador.nombre as nomCapitan, jugador.apellido as apeCapitan from equipo left join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, ifnull(jugador.nombre,'<sin asignar'>) as nomCapitan, jugador.apellido as apeCapitan from equipo left join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, ifnull(jugador.nombre,'<sin asignar>') as nomCapitan, jugador.apellido as apeCapitan from equipo left join jugador on equipo.capitan = jugador.id;
show create table equipo;
select * from partido;
select equipo.id, equipo.nombre as equipo, jugador.nombre as nomCapitan, jugador.apellido as apeCapitan from equipo left join jugador on equipo.capitan = jugador.id;
select equipo.id, equipo.nombre as equipo, jugador.nombre as nomCapitan, jugador.apellido as apeCapitan from equipo left join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, evistante as equipoVisitante, partido.resultado  from equipo left join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, evisitante as equipoVisitante, partido.resultado  from equipo left join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, evisitante as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id;
select * from tA,tB;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join partido on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id where year(partido.fecha) = 2012;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join (select * from partido where year(fecha) = 2012) on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, partido.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join (select * from partido where year(fecha) = 2012) as par2012 on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, par2012.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join (select * from partido where year(fecha) = 2012) as par2012 on partido.elocal = equipo.id join equipo e2 on partido.evisitante = e2.id;
select equipo.nombre as equipolocal , jugador.nombre as nomCapitan, jugador.apellido as apeCapitan, e2.nombre as equipoVisitante, par2012.resultado  from equipo inner join jugador on equipo.capitan = jugador.id inner join (select * from partido where year(fecha) = 2012) as par2012 on par2012.elocal = equipo.id join equipo e2 on par2012.evisitante = e2.id;
use liga
show tables;
select * from partido;
alter table partido drop resl, drop resv;
select * from partido;
select substring_index(resultado,'-',1) from partido;
select substring_index(resultado,'-',1), substring_index(resultado, '-', -1)  from partido;
select substring_index('pepito@gmail.com','@',1);
select substring_index('pepito@gmail.com','@',-1);
select substring_index('pepito@gmail.com@yahoo.es','@',1);
select substring_index('pepito@gmail.com@yahoo.es','@',2);
select substring_index('pepito@gmail.com@yahoo.es','@',3);
describe partido;
select * from partido;
show databases;
use ventas
show tables;
select * from pedido;
select fecha, max(total) from pedido group by fecha;
select fecha, max(total) from pedido group by fecha, id_cliente;
select fecha, max(total) from pedido group by id_cliente, fecha;
select id_cliente, fecha, max(total) from pedido group by id_cliente, fecha;
select fecha, id_cliente, max(total) from pedido group by fecha, id_cliente;
select fecha, id_cliente, max(total) from pedido group by fecha, id_cliente order by fecha;
select id_cliente, fecha, max(total) from pedido group by id_cliente, fecha order by fecha;
select * from pedido;
use liga;
select * from partido;
alter table partido drop rl, drop rv;
select * from partido;
alter table partido add rl tinyint unsigned as (substring_index(resultado,'-',1)) after resultado;
select * from partido;
show create table partido;
select * from partido;
alter table partido add rv tinyint unsigned as (substring_index(resultado,'-',-1)) after rl;
select * from partido;
update partido set resultado = '102-112' where arbitro = 4;
select * from partido;
select elocal, count(*) as victorias from partido where rl > rv group by elocal;
select evisitante, count(*) as victorias from partido where rl < rv group by evisitante;
select elocal, count(*) as victorias from partido where rl > rv group by elocal union all  
select evisitante, count(*) as victorias from partido where rl < rv group by evisitante;
select elocal, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante;
select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante;
select * from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1;
select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo;
select * from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select * from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
drop table if exists t2;
create table t2 (equipo smallint, totalVictorias smallint);
insert into t2 value (2,2),(3,3),(5,2),(6,2);
select * from t2;
select equipo, totalVictorias where totalVictorias = (select max(totalVictorias) from t2);
select equipo, totalVictorias from t2 where totalVictorias = (select max(totalVictorias) from t2);
select * from t2;
select equipo, max(totalVictorias) from t2;
select max(totalVictorias) from t2;
select equipo, max(totalVictorias) from t2 group by equipo;
select equipo, totalVictorias from t2 where totalVictorias = (select max(totalVictorias) from t2);
select * from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from t2;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from t2);
drop table t2;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from t2);
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t3 where totalVictorias = (select max(totalVictorias) from t3);
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante);
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3;
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3);
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante)) as t3;
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante))) as t3;
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante)) as t3);
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3));
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3;
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = ((select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3);
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = ((select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante)) as t3;
select * from (select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = ((select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t3;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = ((select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante);
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias) from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante);
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t3 where totalVictorias = (select max(totalVictorias) from t3);
select *  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t3;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = 3;
select max(totalVictorias)  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = 3;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias)  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select *  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t3;
select *  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = 3;
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias)  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 );
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(t2.totalVictorias));
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (max(t2.totalVictorias));
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(t2.totalVictorias));
select equipo, totalVictorias  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalVictorias = (select max(totalVictorias)  from (select equipo, sum(victorias) as totalVictorias from (select elocal as equipo, count(*) as victorias from partido where rl > rv group by elocal union all   select evisitante, count(*) as victorias from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 );
select * from partido;
create temporary table t1 as select * from partido where arbitro = 6;
select * from t1;
show tables;
select * from partido;
select elocal, count(*) as nv from partido where rl > rv group by elocal;
select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
select elocal, count(*) as nv from partido where rl > rv group by elocal UNION select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
select elocal, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
create temporary table t2 as select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
select * from t2;
drop table t2;
select * from t2;
select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante;
select * from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t2;
select * from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1;
select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo;
select equipo, max(totalV) from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo;
select equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) where totalV = 3;
select equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = 3;
select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo;
select max(sum(nv)) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo;
select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2;
select equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select nombre from equipo where id = 3;
select (select nombre from equipo e where e.id = 3), totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select (select nombre from equipo e where e.id = 3) as equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select (select nombre from equipo e where e.id = t1.equipo) as equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select nombre from equipo where id in (select equipo from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2));
select * from equipo;
select * from partido;
insert into partido value (5,1,'99-87',curdate(),4);
insert into partido (elocal,evisitante,resultado,fecha,arbitro) value (5,1,'99-87',curdate(),4);
select * from partido;
select nombre from equipo where id in (select equipo from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2));
select equipo, totalV from (select equipo, sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2 where totalV = (select max(totalV) from (select sum(nv) as totalV from (select elocal as equipo, count(*) as nv from partido where rl > rv group by elocal UNION ALL select evisitante, count(*) as nv from partido where rl < rv group by evisitante) as t1 group by equipo) as t2);
select * from partido;
select elocal, count(*) as nveces from partido group by elocal;
select evisitante, count(*) as nveces from partido group by evisitante;
select elocal, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante;
select elocal as equipo, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante;
select equipo, sum(nveces) as nv from (select elocal as equipo, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante) as t1;
select equipo, sum(nveces) as nv from (select elocal as equipo, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante) as t1 group by equipo;
select equipo, max(nv) from (select equipo, sum(nveces) as nv from (select elocal as equipo, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante) as t1 group by equipo) as t2;
select equipo from (select equipo, sum(nveces) as nv from (select elocal as equipo, count(*) as nveces from partido group by elocal UNION ALL select evisitante, count(*) as nveces from partido group by evisitante) as t1 group by equipo) as t2 where nv = ();
select * from partido;
select e.nombre, p.resultado, p.fecha from partido p join equipo e on p.elocal = e.id;
select e.nombre as equipoLocal, p.resultado, p.fecha from partido p join equipo e on p.elocal = e.id;
select e.nombre as equipoLocal, e2.nombre as equipoVisitante, p.resultado, p.fecha from partido p join equipo e on p.elocal = e.id join equipo e2 on p.evisitante = e2.id;
select e.nombre as equipoLocal, p.resultado from partido p join equipo e on p.elocal = e.id;
select * from jugador;
select distinct (elocal), ifnull((select count(*) from partido p2 where p2.elocal = p1.elocal and rl > rv group by elocal),0) as npgec from partido p1;
select * from partido;
select elocal, ifnull((select count(*) from partido p2 where p2.elocal = p1.elocal and rl > rv group by elocal),0) as npgec from partido p1;
select elocal, ifnull((select count(*) from partido p2 where p2.elocal = p1.elocal and rl > rv),0) as npgec from partido p1;
select distinct elocal, ifnull((select count(*) from partido p2 where p2.elocal = p1.elocal and rl > rv),0) as npgec from partido p1;
select * from equipo;
select * from partido;
select elocal, count(*) as npgec from partido where rl > rv group by elocal;
select id from equipo;
show create table equipo;
select id from equipo;
select * from equipo;
select id from equipo;
select e.id from equipo e left join partido p on e.id = p.elocal;
select e.id, p.* from equipo e left join partido p on e.id = p.elocal;
select e.id, p.* from equipo e left join partido p on e.id = p.elocal where rl > rv;
select e.id, p.* from equipo e left join partido p on e.id = p.elocal where rl > rv or rl is null;
select e.id, p.* from equipo e left join partido p on e.id = p.elocal;
select e.id, (count(*) from partido p2 where p2.id = p2.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal;
select e.id, (select count(*) from partido p2 where p2.id = p2.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal;
select e.id, (select count(*) from partido p2 where p2.id = p.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal;
select e.id, (select count(*) from partido p2 where p2.elocal = p.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal;
select distinct e.id, (select count(*) from partido p2 where p2.elocal = p.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal;
select distinct e.id, (select count(*) from partido p2 where p2.elocal = p.elocal and p2.rl > p2.rv) as npgcl from equipo e left join partido p on e.id = p.elocal order by e.id;
show tables;
select * from cliente;
select * from comercial;
select * from ventas;
select * from venta;
show tables
select * from pedido;
M select * from pedido;
select * from pedido;
show tables;
drop table A;
drop table B;;
drop table B;
show tables;
select * from pedido;
select max(total) as mayorPedido from pedido;
select * from cliente;
select ciudad, max(categoría) from cliente group by ciudad;
select * from pedido;
select year(fecha),max(total) as maximoPedido from pedido group by year(fecha);
select pedido.*, year(fecha),max(total) as maximoPedido from pedido group by year(fecha);
select year(fecha),max(total) as maximoPedido from pedido group by year(fecha);
select * from pedido where total in (select max(total) as maximoPedido from pedido group by year(fecha));
select * from pedido where total = (select max(total) as maximo from pedido where year(fecha) = 2015);
select * from pedido where total = (select max(total) as maximo from pedido where year(fecha) = 2016);
select * from pedido where total = (select max(total) as maximo from pedido where year(fecha) = 2017);
select * from pedido where total = (select max(total) as maximo from pedido where year(fecha) = 2018);
select * from pedido where total = (select max(total) as maximo from pedido where year(fecha) = 2019);
select p1.* from pedido p1 where total = (select max(total) as maximo from pedido p2 where year(p2.fecha) = year(p1.fecha) );
select * from pedido;
insert into table pedido value (17,3045.60, '2017-08-09', 2, 2);
insert into pedido value (17,3045.60, '2017-08-09', 2, 2);
select * from pedido;
select p1.* from pedido p1 where total = (select max(total) as maximo from pedido p2 where year(p2.fecha) = year(p1.fecha) );
select * from pedido where total > 2000;
select id_cliente, fecha, max(total) as maxPedido from pedido where total > 2000 group by id_cliente, fecha;
insert into pedido value (18,2045.60, '2017-08-09', 2, 4);
select id_cliente, fecha, max(total) as maxPedido from pedido where total > 2000 group by id_cliente, fecha;
select id_cliente, fecha, max(total) as maxPedido from pedido where total > 2000 group by  fecha, id_cliente;
select * from pedido where year(fecha) = 2017;
select id_cliente, count(*) from pedido where year(fecha) = 2017 group by id_cliente;
select id_cliente, (select concat_ws(' ', nombre, apellido1, apellido2) from cliente c where c.id = pedido.id_cliente) as nomcliente, count(*) from pedido where year(fecha) = 2017 group by id_cliente;
select id_cliente, (select concat_ws(' ', nombre, apellido1, apellido2) from cliente c where c.id = pedido.id_cliente) as nomcliente, count(*) as numPedidosdel2017 from pedido where year(fecha) = 2017 group by id_cliente;
select * from cliente;
select id, nombre, apellido1, apellido2, (select count(*) from pedido where year(fecha) = 2017 and pedido.id_cliente = c.id) as numPedidosRealizados from cliente c; 
select * from cliente c left join pedido p on c.id = p.id_cliente;
select * from cliente c left join pedido p on id = id_cliente;
select * from cliente c left join pedido p on c.id = id_cliente;
select * from cliente;
select * from cliente c left join pedido p on c.id = id_cliente;
select * from cliente c left join pedido p on c.id = id_cliente where year(fecha) = 2017;
select c.id, nombre, apellido1, apellido2, count(*) as numPedidos from cliente c left join pedido p on c.id = id_cliente where year(fecha) = 2017 group by c.id;
select c.id, nombre, apellido1, apellido2, count(*) as numPedidos from cliente c left join (select * from pedido where year(fecha) = 2017) as t1 on c.id = id_cliente group by c.id;
select c.id, nombre, apellido1, apellido2, count(t1.id) as numPedidos from cliente c left join (select * from pedido where year(fecha) = 2017) as t1 on c.id = id_cliente group by c.id;
select * from pedido;
select distinct id_cliente from pedido where year(fecha) = 2018;
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2018);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2017);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2015);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2019);
select * from pedido;
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2016);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) != 2016);
select * from cliente where id  in (select distinct id_cliente from pedido where year(fecha) != 2016);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) != 2016);
select * from cliente where id not in (select distinct id_cliente from pedido where year(fecha) = 2016);
select * from mysql.user;
describe mysql.user;
select user,host,password,plugin from mysql.user;
create user fulanito@'192.168.10.20' identified by '123';
select user,host,password,plugin from mysql.user;
create user fulanito identified by '123';
select user,host,password,plugin from mysql.user;
create user fulanito@'localhost' identified by '123';
select user,host,password,plugin from mysql.user;
select user,host,password from mysql.user;
drop user fulanito@192.168.10.20
;
select user,host,password from mysql.user;
drop user fulanito@%
;
drop user fulanito@'%';
select user,host,password from mysql.user;
select current_user();
show databases;
show grants;
show databases;
create database prueba;
show databases;
grant select on liga.* to alumno;
show grants;
show grants for alumno;
revoke select liga.* from alumno;
revoke select on liga.* from alumno;
show grants for alumno;
grant select on liga.jugador to alumno;
show grants for alumno;
select user,host,password,plugin from mysql.user;
ping localhost
show databases;
delete * from liga.jugador;
delete  from liga.jugador;
show databases;
use liga;
show tables;
select * from jugador;
delete  from liga.jugador;
show grants;
select current_user();
select * from equipo;
insert into equipo value (8,'manresa','Tarragona',null,12,null);
select * from equipo;
select * from partido;
select * from equipo;
show grants;
select * from equipo;
use liga;
select * from equipo;
select * From partido;
select * from equipo;
select (select nombre from equipo e where e.id = p.elocal) as EquipoLocal, evisitante, resultado from partido p;
select * from jugador;
select * from equipo;
select * from jugador;
select id, nombre, apellido, puesto from jugador;
describe jugador;
select * from jugador;
rename user pepito to donPepote;
show tables;
select * from concesionario;
select * from distribucion;
select * from coches;
select * from concesionario co where ciudad = 'MADRID';
select * from concesionario co join distribucion dis using (cifc) where ciudad = 'MADRID';
select * from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) where ciudad = 'MADRID';
select * from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) where ciudad = 'MADRID' and modelo = 'GTI';
select * from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) join ventas v using (cifc) where ciudad = 'MADRID' and modelo = 'GTI';
select * from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) join ventas v using (cifc) join clientes cl using (dni) where ciudad = 'MADRID' and modelo = 'GTI';
select * from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) join ventas v using (cifc) join clientes cl using (dni) where co.ciudad = 'MADRID' and modelo = 'GTI';
select cl.nombre, cl.apellido from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) join ventas v using (cifc) join clientes cl using (dni) where co.ciudad = 'MADRID' and modelo = 'GTI';
select cl.nombre, cl.apellido from concesionario co join distribucion dis using (cifc) join coches c using (codcoche) join ventas v using (cifc) join clientes cl using (dni) where co.ciudad = 'MADRID' and modelo = 'GTI' and cantidad > 0;
use liga
show tables;
describe jugador;
create table jugEquipo(
    id smallint,
    nomJugador char(50),
    equipo smallint,
    nomEquipo char(50)
);
create table jugEquipo(     id smallint,     nomJugador char(50),     equipo smallint,     nomEquipo char(50) );
show tables;
load data local infile 'jugEquipo_utf8.csv' into table jugEquipo fields separated by ',' ignore 1 lines;
load data local infile 'jugEquipo_utf8.csv' into table jugEquipo fields terminated by ',' ignore 1 lines;
show warnings;
select * from jugEquipo;
select * from jugEquipo into outfile '/tmp/jugEquipo.csv' fields terminated by ';';
create database ayuntamiento;
use ayuntamiento
create table camaras (
    FID char(50),
    ogc_fid char(20),
    wkb_geometry char(30),
    name char(50)
);
create table camaras (     FID char(50),     ogc_fid char(20),     wkb_geometry char(30),     name char(50) );
load data local infile 'da_camarasTrafico-25830.csv' into table camaras fields terminated by ',' ignore 1 lines;
show warnings;
show tables;
truncate camaras;
show create table camaras;
alter table camaras modify wkb_geometry char(60);
load data local infile 'da_camarasTrafico-25830.csv' into table camaras fields terminated by ',' ignore 1 lines;
select * from camaras;
select * from camaras limit 5;
alter table camaras add coordenadas POINT;
update camaras set coordenadas = wkb_geometry;
select st_pointfromtext(wkb_geometry) limit 10;
select st_pointfromtext(wkb_geometry) from camaras limit 10;
update camaras set coordenadas = st_pointfromtext(wkb_geometry);
select * from camaras limit 10;
